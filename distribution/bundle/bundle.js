(()=>{"use strict";var t,e,i,s,n={864:(t,e,i)=>{i.a(t,async(t,e)=>{try{var s=i(271),n=i(133);s.fd.activate();const t=new s.N$;t.initiate(25),await t.preloadStage(n.A),t.createStage(n.A),e()}catch(t){e(t)}},1)},133:(t,e,i)=>{i.d(e,{A:()=>x});var s=i(271);const n=new s.Uw(new s.Pq(34/255,32/255,52/255)),r=new s.Uw(new s.I9(320,240));function a({$aseprite:t,$loop:e=!0,$tag:i}){class n extends s.Ag{$spritesheet;onCreate(){this.$spritesheet=new c(t),this.$spritesheet.animate(i,e)}onTick(t){this.$spritesheet.tick(t),this.sprite!==this.$spritesheet.sprite&&this.setSprite(this.$spritesheet.sprite)}}return n}function o(t){class e extends s.SJ{static preloadables=[t.texture]}return e}class h{$sprites;$tags;$texture;get texture(){return this.$texture}constructor(t,e){this.$texture=t,this.$sprites=new Map,e.frames.forEach(i=>{const n=new s.kx({$frameSource:new s.F5(new s.I9(i.frame.x/e.meta.size.w,i.frame.y/e.meta.size.h),new s.I9((i.frame.x+i.frame.w)/e.meta.size.w,(i.frame.y+i.frame.h)/e.meta.size.h)),$sizeTarget:new s.I9(i.frame.w,i.frame.h),$texture:t});this.$sprites.set(n,i.duration)}),this.$tags=new Map,e.meta.frameTags.forEach(t=>{const e=Array.from(this.$sprites.entries()).slice(t.from,t.to+1);this.$tags.set(t.name,new Map(e))})}getSprites(t){if(0===this.$tags.size)return new Map;if(!1===this.$tags.has(t)){const t=Array.from(this.$tags.keys())[0];return this.$tags.get(t)}return this.$tags.get(t)}}class c{$aseprite;$sprite;$timeline;get sprite(){return this.$sprite}constructor(t){this.$aseprite=t,this.$timeline=new s.Kf}animate(t,e=!0){const i=this.$aseprite.getSprites(t);if(0===i.size)return;let n=0;const r=Array.from(i.entries()).map(([t,e])=>{const i=new s.a3({$onEnter:()=>{this.$sprite=t},$timecode:n});return n+=e,i});!0===e&&r.push(new s.a3({$onEnter:t=>{t.seekTimecode(0)},$timecode:n})),this.$timeline=new s.Kf(r),this.$timeline.seekTimecode(0)}tick(t){this.$timeline.tick(t)}}const d=JSON.parse('{"frames":[{"filename":"idle#@gamepad-xbox.aseprite","frame":{"x":0,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"disconnected#@gamepad-xbox.aseprite","frame":{"x":0,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100}],"meta":{"app":"http://www.aseprite.org/","version":"1.2.9-x64","image":"gamepad-xbox.png","format":"RGBA8888","size":{"w":256,"h":256},"scale":"1","frameTags":[{"name":"idle","from":0,"to":0,"direction":"forward"},{"name":"disconnected","from":1,"to":1,"direction":"forward"}]}}'),$=new h(i.p+"4a03dd917a00203e162d.png",d),u=JSON.parse('{"frames":[{"filename":"a-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"a-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"b-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"b-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"x-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":640,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"x-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":800,"y":0,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"y-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"y-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lb-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lb-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rb-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":640,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rb-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":800,"y":128,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lt-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lt-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rt-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rt-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"back-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":640,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"back-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":800,"y":256,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"start-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"start-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lsb-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"lsb-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rsb-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":640,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"rsb-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":800,"y":384,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"up-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"up-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"right-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"right-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"down-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":640,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"down-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":800,"y":512,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"left-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":0,"y":640,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"left-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":160,"y":640,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"xbox-idle#@gamepad-xbox-inputs.aseprite","frame":{"x":320,"y":640,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100},{"filename":"xbox-activated#@gamepad-xbox-inputs.aseprite","frame":{"x":480,"y":640,"w":160,"h":128},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":160,"h":128},"sourceSize":{"w":160,"h":128},"duration":100}],"meta":{"app":"http://www.aseprite.org/","version":"1.2.9-x64","image":"gamepad-xbox-inputs.png","format":"RGBA8888","size":{"w":1024,"h":1024},"scale":"1","frameTags":[{"name":"a-idle","from":0,"to":0,"direction":"forward"},{"name":"a-activated","from":1,"to":1,"direction":"forward"},{"name":"b-idle","from":2,"to":2,"direction":"forward"},{"name":"b-activated","from":3,"to":3,"direction":"forward"},{"name":"x-idle","from":4,"to":4,"direction":"forward"},{"name":"x-activated","from":5,"to":5,"direction":"forward"},{"name":"y-idle","from":6,"to":6,"direction":"forward"},{"name":"y-activated","from":7,"to":7,"direction":"forward"},{"name":"lb-idle","from":8,"to":8,"direction":"forward"},{"name":"lb-activated","from":9,"to":9,"direction":"forward"},{"name":"rb-idle","from":10,"to":10,"direction":"forward"},{"name":"rb-activated","from":11,"to":11,"direction":"forward"},{"name":"lt-idle","from":12,"to":12,"direction":"forward"},{"name":"lt-activated","from":13,"to":13,"direction":"forward"},{"name":"rt-idle","from":14,"to":14,"direction":"forward"},{"name":"rt-activated","from":15,"to":15,"direction":"forward"},{"name":"back-idle","from":16,"to":16,"direction":"forward"},{"name":"back-activated","from":17,"to":17,"direction":"forward"},{"name":"start-idle","from":18,"to":18,"direction":"forward"},{"name":"start-activated","from":19,"to":19,"direction":"forward"},{"name":"lsb-idle","from":20,"to":20,"direction":"forward"},{"name":"lsb-activated","from":21,"to":21,"direction":"forward"},{"name":"rsb-idle","from":22,"to":22,"direction":"forward"},{"name":"rsb-activated","from":23,"to":23,"direction":"forward"},{"name":"up-idle","from":24,"to":24,"direction":"forward"},{"name":"up-activated","from":25,"to":25,"direction":"forward"},{"name":"right-idle","from":26,"to":26,"direction":"forward"},{"name":"right-activated","from":27,"to":27,"direction":"forward"},{"name":"down-idle","from":28,"to":28,"direction":"forward"},{"name":"down-activated","from":29,"to":29,"direction":"forward"},{"name":"left-idle","from":30,"to":30,"direction":"forward"},{"name":"left-activated","from":31,"to":31,"direction":"forward"},{"name":"xbox-idle","from":32,"to":32,"direction":"forward"},{"name":"xbox-activated","from":33,"to":33,"direction":"forward"}]}}'),m=new h(i.p+"b8b3f5af90bee4378874.png",u);class l extends(s.xI.ActorWithPreloadables([o($),o(m)])){$actorsInput;$connected;$spritesheet;$actionConnected(){this.$spritesheet.animate("idle"),this.$connected=!0}$actionDisconnected(){this.$spritesheet.animate("disconnected"),this.$connected=!1}$createActorsInputButton(){const t=new Map([[s.Sx.Qn.A,["a-activated","a-idle"]],[s.Sx.Qn.B,["b-activated","b-idle"]],[s.Sx.Qn.X,["x-activated","x-idle"]],[s.Sx.Qn.Y,["y-activated","y-idle"]],[s.Sx.Qn.LB,["lb-activated","lb-idle"]],[s.Sx.Qn.RB,["rb-activated","rb-idle"]],[s.Sx.Qn.LT,["lt-activated","lt-idle"]],[s.Sx.Qn.RT,["rt-activated","rt-idle"]],[s.Sx.Qn.IU,["back-activated","back-idle"]],[s.Sx.Qn.d3,["start-activated","start-idle"]],[s.Sx.Qn.UP,["up-activated","up-idle"]],[s.Sx.Qn.PX,["down-activated","down-idle"]],[s.Sx.Qn.M3,["left-activated","left-idle"]],[s.Sx.Qn.NS,["right-activated","right-idle"]],[s.Sx.Qn.cb,["xbox-activated","xbox-idle"]]]);Array.from(t).forEach(([t,[e,i]])=>{const s=a({$aseprite:m,$tag:!0===this.engine.getInput(t)?e:i}),n=this.stage.createActor(s).setVisible(this.visible).setZIndex(this.zIndex).translate(this.translation.clone());this.$actorsInput.push(n)})}$createActorsInputStickLeft(){const t=a({$aseprite:m,$tag:!0===this.engine.getInput(s.Sx.Qn.g2)?"lsb-activated":"lsb-idle"}),e=this.stage.createActor(t).setVisible(this.visible).setZIndex(this.zIndex).translate(this.translation.clone());this.$actorsInput.push(e),!0===this.engine.getInput(s.Sx.Qn.WG)&&e.translate(new s.I9(-2,0)),!0===this.engine.getInput(s.Sx.Qn.Dt)&&e.translate(new s.I9(2,0)),!0===this.engine.getInput(s.Sx.Qn.Mx)&&e.translate(new s.I9(0,2)),!0===this.engine.getInput(s.Sx.Qn.xK)&&e.translate(new s.I9(0,-2))}$createActorsInputStickRight(){const t=a({$aseprite:m,$tag:!0===this.engine.getInput(s.Sx.Qn.S_)?"rsb-activated":"rsb-idle"}),e=this.stage.createActor(t).setVisible(this.visible).setZIndex(this.zIndex).translate(this.translation.clone());this.$actorsInput.push(e),!0===this.engine.getInput(s.Sx.Qn.W3)&&e.translate(new s.I9(-2,0)),!0===this.engine.getInput(s.Sx.Qn.v2)&&e.translate(new s.I9(2,0)),!0===this.engine.getInput(s.Sx.Qn._d)&&e.translate(new s.I9(0,2)),!0===this.engine.getInput(s.Sx.Qn.l9)&&e.translate(new s.I9(0,-2))}$removeActorsInputs(){[...this.$actorsInput].forEach(t=>{this.stage.removeActor(t)})}onBeforeRemove(){[...this.$actorsInput].forEach(t=>{this.stage.removeActor(t)})}onCreate(){this.$spritesheet=new c($),this.$actorsInput=[],this.$connected=!1,this.$actionDisconnected()}onSetVisible(t){[...this.$actorsInput].forEach(e=>{e.setVisible(t)})}onSetZIndex(t){[...this.$actorsInput].forEach(e=>{e.setZIndex(t)})}onTick(t){this.$removeActorsInputs(),!0===this.engine.getInput(s.Sx.Qn._Y)?this.$actionConnected():!0===this.engine.getInput(s.Sx.Qn._N)&&this.$actionDisconnected(),!0===this.$connected&&(this.$createActorsInputButton(),this.$createActorsInputStickLeft(),this.$createActorsInputStickRight()),this.$spritesheet.tick(t),this.sprite!==this.$spritesheet.sprite&&this.setSprite(this.$spritesheet.sprite)}onTranslate(t){[...this.$actorsInput].forEach(e=>{e.translate(t)})}}const p=l;class f extends(s.xI.StageWithPreloadables([p])){onCreate(){this.engine.setColor(n.getState()),this.engine.setResolution(r.getState()),this.createActor(p)}}const x=f},271:(t,e,i)=>{i.d(e,{F5:()=>Te,Ag:()=>Se,n4:()=>s,Jo:()=>Ae,Sx:()=>h,Ru:()=>p,N$:()=>ze,_p:()=>We,wc:()=>He,IY:()=>je,Rt:()=>Ze,pm:()=>Ke,Yj:()=>Je,uk:()=>ti,y2:()=>ei,Gs:()=>ii,fd:()=>ri,xI:()=>g,FZ:()=>Ie,hO:()=>f,Z2:()=>x,SJ:()=>be,aH:()=>w,Mt:()=>_e,kx:()=>Be,BI:()=>Ee,Uw:()=>Pe,iQ:()=>Ue,$V:()=>ai,mr:()=>oi,kd:()=>hi,Mh:()=>ci,Ce:()=>di,c0:()=>$i,Kf:()=>Fe,a3:()=>Me,Sf:()=>v,I9:()=>Qe,Pq:()=>qe,Hx:()=>Ye});var s={};i.r(s),i.d(s,{u5:()=>y,g5:()=>b,DU:()=>S});var n={};i.r(n),i.d(n,{oT:()=>O,CU:()=>I,tI:()=>_,SM:()=>C,nl:()=>L,az:()=>k,Hk:()=>R,Wj:()=>F,uE:()=>M,nV:()=>D,ED:()=>U,F8:()=>E,b0:()=>A,CC:()=>T,rB:()=>z,_Y:()=>H,_N:()=>j,yz:()=>B,O5:()=>X,hb:()=>V,Mx:()=>N,NP:()=>G,HY:()=>P,Z1:()=>W,EE:()=>Q,Zv:()=>q,sk:()=>Y,q7:()=>Z,be:()=>K});var r={};i.r(r),i.d(r,{A:()=>J,B:()=>tt,IU:()=>ot,_Y:()=>Et,_N:()=>Tt,PX:()=>ut,LB:()=>st,M3:()=>mt,g2:()=>ct,xK:()=>gt,WG:()=>ft,Dt:()=>xt,Mx:()=>wt,LT:()=>rt,RB:()=>nt,NS:()=>lt,S_:()=>dt,l9:()=>St,W3:()=>vt,v2:()=>yt,_d:()=>bt,RT:()=>at,d3:()=>ht,UP:()=>$t,X:()=>et,cb:()=>pt,Y:()=>it});var a={};i.r(a),i.d(a,{Nk:()=>At,xC:()=>zt,ot:()=>kt,o$:()=>Rt,V1:()=>Ct,RL:()=>Lt});var o={};i.r(o),i.d(o,{A_:()=>It,Oz:()=>_t,b:()=>Bt,hb:()=>Pt,uG:()=>Ut,Sy:()=>Ft});var h={};i.r(h),i.d(h,{A9:()=>n,Qn:()=>r,ZQ:()=>a,yD:()=>o});var c={};i.r(c),i.d(c,{NA:()=>Mt,d0:()=>Dt,hm:()=>Ot,Wi:()=>Vt,GI:()=>Nt});var d={};i.r(d),i.d(d,{QM:()=>Gt,og:()=>Xt,HC:()=>Qt});var $={};i.r($),i.d($,{FD:()=>qt,DQ:()=>Yt,KJ:()=>Wt});var u={};i.r(u),i.d(u,{R:()=>Ht,g:()=>jt});var m={};i.r(m),i.d(m,{Ir:()=>Zt,mI:()=>Kt,Rt:()=>Jt,m1:()=>te,uQ:()=>ee,mR:()=>ie});var l={};i.r(l),i.d(l,{fW:()=>se,vQ:()=>ne,ge:()=>re});var p={};i.r(p),i.d(p,{u_:()=>c,ZQ:()=>d,yD:()=>$,WQ:()=>u,s6:()=>m,C7:()=>l});var f={};i.r(f),i.d(f,{n:()=>ae});var x={};i.r(x),i.d(x,{F:()=>oe,W:()=>he});var w={};i.r(w),i.d(w,{hU:()=>ce,ve:()=>de,tT:()=>$e,Xv:()=>ue,Hv:()=>me,yv:()=>le,Jx:()=>pe,zH:()=>fe,vh:()=>xe,PI:()=>we,uL:()=>ge,N5:()=>ve,GM:()=>ye});var g={};i.r(g),i.d(g,{ActorWithPreloadables:()=>ke,PreloadableSound:()=>Re,PreloadableTexture:()=>Ce,StageWithPreloadables:()=>Le});var v={};i.r(v),i.d(v,{deduplicate:()=>De,extract:()=>Oe,frame:()=>Ve,ready:()=>Ne,sleep:()=>Ge,uuid:()=>Xe});const y="DYNAMIC",b="KINETIC",S="STATIC",E="ClusterRightButtonBottom",T="ClusterRightButtonRight",A="ClusterRightButtonLeft",z="ClusterRightButtonTop",k="ClusterFrontButtonTopLeft",R="ClusterFrontButtonTopRight",C="ClusterFrontButtonBottomLeft",L="ClusterFrontButtonBottomRight",I="ClusterCenterButtonLeft",_="ClusterCenterButtonRight",B="StickLeftButton",P="StickRightButton",U="ClusterLeftButtonTop",F="ClusterLeftButtonBottom",M="ClusterLeftButtonLeft",D="ClusterLeftButtonRight",O="ClusterCenterButtonCenter",V="StickLeftLeft",N="StickLeftRight",G="StickLeftUp",X="StickLeftDown",Q="StickRightLeft",q="StickRightRight",Y="StickRightUp",W="StickRightDown",H="Connected",j="Disconnected",Z="VibrateEnd",K="VibrateStart",J="ClusterRightButtonBottom",tt="ClusterRightButtonRight",et="ClusterRightButtonLeft",it="ClusterRightButtonTop",st="ClusterFrontButtonTopLeft",nt="ClusterFrontButtonTopRight",rt="ClusterFrontButtonBottomLeft",at="ClusterFrontButtonBottomRight",ot="ClusterCenterButtonLeft",ht="ClusterCenterButtonRight",ct="StickLeftButton",dt="StickRightButton",$t="ClusterLeftButtonTop",ut="ClusterLeftButtonBottom",mt="ClusterLeftButtonLeft",lt="ClusterLeftButtonRight",pt="ClusterCenterButtonCenter",ft="StickLeftLeft",xt="StickLeftRight",wt="StickLeftUp",gt="StickLeftDown",vt="StickRightLeft",yt="StickRightRight",bt="StickRightUp",St="StickRightDown",Et="Connected",Tt="Disconnected",At="DirectionXNegative",zt="DirectionXPositive",kt="DirectionYNegative",Rt="DirectionYPositive",Ct="DirectionZNegative",Lt="DirectionZPositive",It="RotationXNegative",_t="RotationXPositive",Bt="RotationYNegative",Pt="RotationYPositive",Ut="RotationZNegative",Ft="RotationZPositive",Mt="gamepadanalog",Dt="gamepadconnect",Ot="gamepaddown",Vt="gamepadup",Nt="gamepadvibrate",Gt="gravityanalog",Xt="gravitydown",Qt="gravityup",qt="gyroscopeanalog",Yt="gyroscopedown",Wt="gyroscopeup",Ht="keydown",jt="keyup",Zt="beforeunload",Kt="blur",Jt="click",te="contextmenu",ee="gamepadconnected",ie="gamepaddisconnected",se="pointeranalog",ne="pointerdown",re="pointerup",ae=Math.PI/180,oe="audio",he="image",ce="bool[]",de="float[]",$e="int[]",ue="mat4[]",me="vec2[]",le="vec3[]",pe="bool",fe="float",xe="int",we="mat4",ge="sampler2D",ve="vec2",ye="vec3";class be{static preloadables=[]}class Se extends be{$collider;$components;$identifier;$listenerActions;$listenersStates;$sounds;$sprite;$stage;$translation;$uuid;$vibrations;$visible;$zIndex;get collider(){return this.$collider}get engine(){return this.stage.engine}get identifier(){return this.$identifier}get sounds(){return this.$sounds}get sprite(){return this.$sprite}get stage(){return this.$stage}get translation(){return this.$translation}get uuid(){return this.$uuid}get vibrations(){return this.$vibrations}get visible(){return this.$visible}get zIndex(){return this.$zIndex}constructor(t){super(),this.$stage=t,this.$components={},this.$listenerActions={},this.$listenersStates={},this.$sounds=[],this.$translation=new Qe(0,0),this.$uuid=Xe(),this.$vibrations=[],this.$visible=!0,this.$zIndex=0}$setListener(t,e){return this.$listenerActions[t]=e,this}$trigger(t){return!1===Object.hasOwn(this.$listenersStates,t)||this.$listenersStates[t].forEach(e=>{e(t)}),this}addListener(t,e){return!1===Object.hasOwn(this.$listenersStates,t)&&(this.$listenersStates[t]=[]),this.$listenersStates[t].push(e),this}addSound(t){return this.$sounds.push(t),this}addVibration(t){return this.$vibrations.push(t),this}getComponent(t){return this.$components[t]}hasCollider(){return this.$collider instanceof Ae}hasComponent(t){return!0===Object.hasOwn(this.$components,t)}hasSprite(){return this.$sprite instanceof Be}onAfterRemove(){}onBeforeRemove(){}onCollide({$actor:t,$east:e,$north:i,$south:s,$west:n}){}onCollideEnter({$actor:t,$east:e,$north:i,$south:s,$west:n}){}onCollideLeave(t){}onCreate(){}onSetVisible(t){}onSetZIndex(t){}onSoundFinish(t){}onTick(t){}onTranslate(t){}removeCollider(){return this.$collider=void 0,this}removeComponent(t){return this.$components[t]=void 0,this}removeSound(t){return Oe(t,this.$sounds),this}removeSounds(){return this.$sounds=[],this}removeSprite(){return this.$sprite=void 0,this}removeVibration(t){return Oe(t,this.$vibrations),this}removeVibrations(){return this.$vibrations=[],this}setCollider(t){return this.$collider=t,this}setComponent(t,e){return this.$components[t]=e,this}setIdentifier(t){return this.$identifier=t,this}setSprite(t){return this.$sprite=t,this}setVisible(t){return this.$visible=t,this.onSetVisible(t),this}setZIndex(t){return this.$zIndex=t,this.onSetZIndex(t),this}translate(t){const e=t.clone();return this.$translation.add(e),this.onTranslate(e),this}translateTo(t){const e=t.clone().subtract(this.$translation);return this.$translation.add(e),this.onTranslate(e),this}trigger(t){return!1===Object.hasOwn(this.$listenerActions,t)||this.$listenerActions[t](t),this}}class Ee extends be{$actors;$engine;$pointOfView;$uuid;get actors(){return this.$actors}get engine(){return this.$engine}get pointOfView(){return this.$pointOfView}get uuid(){return this.$uuid}constructor(t){super(),this.$engine=t,this.$actors=[],this.$pointOfView=this.createActor(Se),this.$uuid=Xe()}createActor(t=Se){const e=new t(this);return this.$actors.push(e),e.onCreate(),e}hasActor(t){return-1!==this.$actors.indexOf(t)}onCreate(){}removeActor(t){const e=this.$actors.indexOf(t);-1!==e&&(t.onBeforeRemove(),this.$actors.splice(e,1),t.onAfterRemove())}removeActors(){for(;this.$actors.length>0;)this.removeActor(this.$actors[0])}setPointOfView(t){this.$pointOfView=t}}class Te{$maximum;$minimum;get center(){return this.minimum.clone().add(this.halfSize)}get halfSize(){return this.size.clone().scale(.5)}get maximum(){return this.$maximum}get minimum(){return this.$minimum}get size(){return this.$maximum.clone().subtract(this.$minimum)}constructor(t,e){this.$maximum=e,this.$minimum=t}static distanceManhattan(t,e){const i=Te.distanceX(t,e),s=Te.distanceY(t,e);return i>0||s>0?Math.max(i,0)+Math.max(s,0):i+s}static distanceX(t,e){return Math.abs(e.center.x-t.center.x)-(t.halfSize.x+e.halfSize.x)}static distanceY(t,e){return Math.abs(e.center.y-t.center.y)-(t.halfSize.y+e.halfSize.y)}static from(t){return t.clone()}static fromSize(t){return new Te(t.clone().scale(-.5),t.clone().scale(.5))}static overlapX(t,e){const i=Math.abs(e.center.x-t.center.x);return t.halfSize.x+e.halfSize.x-i}static overlapY(t,e){const i=Math.abs(e.center.y-t.center.y);return t.halfSize.y+e.halfSize.y-i}clone(){return new Te(this.$minimum,this.$maximum)}translate(t){return this.$maximum=this.$maximum.clone().add(t),this.$minimum=this.$minimum.clone().add(t),this}}class Ae{$boundaries;$traversable;$type;get boundaries(){return this.$boundaries}get traversable(){return this.$traversable}get type(){return this.$type}constructor({$boundaries:t,$traversable:e=!1,$type:i}){this.$boundaries=t,this.$traversable=e,this.$type=i}}class ze{$color;$container;$loop;$next;$preloaded;$resolution;$stage;$systemActor;$systemAudio;$systemCollision;$systemInput;$systemRender;$systemVibration;$uuid;get container(){return this.$container}get stage(){return this.$stage}get uuid(){return this.$uuid}constructor({$color:t=new qe(0,0,0),$container:e=document.body,$resolution:i=new Qe(320,240)}={}){this.$color=t,this.$container=e,this.$resolution=i,this.$uuid=Xe(),this.$loop=new Ie(this.tick.bind(this)),this.$preloaded=new Set,this.$systemActor=new ai,this.$systemAudio=new oi,this.$systemCollision=new hi,this.$systemInput=new ci({$container:this.$container}),this.$systemRender=new di({$color:this.$color,$container:this.$container,$resolution:this.$resolution}),this.$systemVibration=new $i}$createStage(t){this.$stage=new t(this),this.$stage.onCreate()}createStage(t){this.$next=t}getInput(t){return this.$systemInput.getInput(t)}getInputAnalog(t){return this.$systemInput.getInputAnalog(t)}getTranslationFromScreen(t){return this.$systemRender.getTranslationFromScreen(this.$stage,t)}hasAssetLoaded(t){return!0===this.$preloaded.has(t)}initiate(t=60){this.$systemInput.initiate(),this.$systemActor.initiate(),this.$systemCollision.initiate(),this.$systemRender.initiate(),this.$systemAudio.initiate(),this.$systemVibration.initiate(),this.$loop.initiate(t)}preloadStage(t){const e=[];return De(t.preloadables).forEach(t=>{if(!0===this.hasAssetLoaded(t))return;if(this.$preloaded.add(t),!0===this.$systemAudio.hasAssetLoaded(t))return;if(!0===this.$systemRender.hasAssetLoaded(t))return;const i=new Promise(e=>{fetch(t).then(t=>{const i=t.headers.get("Content-Type"),[s]=i.toLowerCase().split("/");switch(s){case oe:this.$systemAudio.loadAudio(t).then(t=>{e(t)});break;case he:this.$systemRender.loadTexture(t).then(t=>{e(t)});break;default:e(void 0)}})});e.push(i)}),Promise.all(e)}removePointerNative(){this.$systemRender.removePointerNative()}setColor(t){this.$systemRender.setColor(t)}setResolution(t){this.$systemRender.setResolution(t)}terminate(){this.$loop.terminate(),this.$createStage(Ee),this.tick(0),this.$systemInput.terminate(),this.$systemActor.terminate(),this.$systemCollision.terminate(),this.$systemRender.terminate(),this.$systemAudio.terminate(),this.$systemVibration.terminate(),this.$preloaded=new Set}tick(t){if(typeof this.$next==typeof Ee){const t=this.$next;this.$next=void 0,this.$createStage(t)}void 0!==this.$stage&&(this.$systemInput.tick({$stage:this.$stage,$timetick:t}),this.$systemActor.tick({$stage:this.$stage,$timetick:t}),this.$systemCollision.tick({$stage:this.$stage,$timetick:t}),this.$systemRender.tick({$stage:this.$stage,$timetick:t}),this.$systemAudio.tick({$stage:this.$stage,$timetick:t}),this.$systemVibration.tick({$stage:this.$stage,$timetick:t}))}}function ke(t){const e=new Set;t.forEach(t=>{typeof t==typeof be&&t.preloadables.forEach(t=>{!0!==e.has(t)&&e.add(t)})});class i extends Se{static preloadables=Array.from(e)}return i}function Re(t){return class extends be{static preloadables=[t]}}function Ce(t){return class extends be{static preloadables=[t]}}function Le(t){const e=new Set;t.forEach(t=>{typeof t==typeof be&&t.preloadables.forEach(t=>{!0!==e.has(t)&&e.add(t)})});class i extends Ee{static preloadables=Array.from(e)}return i}class Ie{$handler;$identifier;$timePrevious;$scope;constructor(t,e=window){this.$handler=t,this.$scope=e}$loop(t){const e=performance.now();if(void 0!==this.$timePrevious){const i=e-this.$timePrevious,s=t,n=Math.min(s,i);this.$handler(n)}this.$identifier=this.$scope.requestAnimationFrame(this.$loop.bind(this,t)),this.$timePrevious=e}initiate(t=60){this.$loop(1e3/t)}terminate(){void 0!==this.$identifier&&(this.$scope.cancelAnimationFrame(this.$identifier),this.$timePrevious=void 0)}}class _e{static attributes={attributePosition:ve,attributeUvmapping:ve};static sourceFragment="precision highp float;uniform sampler2D uniformTexture;varying vec2 varyingUvmapping;void main(void) {gl_FragColor = texture2D(uniformTexture, varyingUvmapping);}";static sourceVertex="attribute vec2 attributePosition;attribute vec2 attributeUvmapping;uniform vec2 uniformAspect;uniform vec2 uniformSize;uniform vec2 uniformTranslation;uniform vec2 uniformTranslationPointOfView;varying vec2 varyingUvmapping;void main(void) {varyingUvmapping = attributeUvmapping;vec2 position = (attributePosition * uniformSize + uniformTranslation);vec2 projection = 2.0 * (position - uniformTranslationPointOfView) / uniformAspect;gl_Position = vec4(projection, 0.0, 1.0);}";static uniforms={uniformAspect:ve,uniformSize:ve,uniformTexture:ge,uniformTranslation:ve,uniformTranslationPointOfView:ve}}class Be{$frameSource;$frameSourceSerialized;$sizeTarget;$texture;get frameSource(){return this.$frameSource}get frameSourceSerialized(){return this.$frameSourceSerialized}get sizeTarget(){return this.$sizeTarget}get texture(){return this.$texture}constructor({$frameSource:t=new Te(new Qe(0,0),new Qe(1,1)),$sizeTarget:e,$texture:i}){this.$frameSource=t,this.$sizeTarget=e,this.$texture=i,this.$frameSourceSerialized=JSON.stringify([[t.minimum.x,t.minimum.y],[t.maximum.x,t.maximum.y]])}}class Pe{$data;$watchers;constructor(t){this.$data=t,this.$watchers=[]}getState(){return this.$data}setState(t){this.$data=t,this.$watchers.forEach(t=>{t(this.$data)})}unwatchAll(){this.$watchers=[]}unwatchState(t){for(;-1!==this.$watchers.indexOf(t);)this.$watchers.splice(this.$watchers.indexOf(t),1)}watchState(t){this.$watchers.push(t)}}class Ue{$initiated;constructor(){this.$initiated=!1}initiate(){!0!==this.$initiated&&(this.onInitiate(),this.$initiated=!0)}onInitiate(){}onTerminate(){}onTick({$stage:t,$timetick:e}){}terminate(){if(!1===this.$initiated)return;const t=this.onTerminate();void 0!==t?t.then(()=>{this.$initiated=!1}):this.$initiated=!1}tick({$stage:t,$timetick:e}){!1===this.$initiated&&this.initiate(),this.onTick({$stage:t,$timetick:e})}}class Fe{$keyframes;$timecode;get timecode(){return this.$timecode}constructor(t=[]){this.$keyframes=[...t].sort((t,e)=>t.timecode-e.timecode),this.$timecode=0}seekName(t){const e=this.$keyframes.find(e=>e.name===t);return void 0!==e&&this.seekTimecode(e.timecode),this}seekTimecode(t){return this.$timecode=t,this.$keyframes.forEach(t=>{t.timecode===this.$timecode&&t.onEnter(this)}),this}tick(t){if(0===t)return this;const e=this.$timecode;this.$timecode+=t;const i=this.$timecode;return this.$keyframes.forEach(t=>{t.timecode<=e||t.timecode>i||t.onEnter(this)}),this}}class Me{$name;$onEnter;$timecode;get name(){return this.$name}get onEnter(){return this.$onEnter}get timecode(){return this.$timecode}constructor({$name:t,$onEnter:e,$timecode:i}){this.$name=t,this.$onEnter=e,this.$timecode=i}}function De(t){return Array.from(new Set(t))}function Oe(t,e){const i=e.indexOf(t);return-1===i?[]:e.splice(i,1)}function Ve(){return new Promise(t=>{window.requestAnimationFrame(t)})}function Ne(){return new Promise(t=>{let e;const i=()=>{!1!==navigator.userActivation.hasBeenActive?(window.cancelAnimationFrame(e),t()):e=window.requestAnimationFrame(i)};e=window.requestAnimationFrame(i)})}function Ge(t){return new Promise(e=>{window.setTimeout(e,t)})}function Xe(){return window.crypto.randomUUID()}class Qe{$x;$y;get x(){return this.$x}get y(){return this.$y}constructor(t,e){this.$x=t,this.$y=e}static from(t){return t.clone()}add(t){const e=this.$x,i=this.$y;return this.$x=e+t.x,this.$y=i+t.y,this}clone(){const t=this.$x,e=this.$y;return new Qe(t,e)}equal(t){return this.$x===t.x&&this.$y===t.y}length(){const t=this.$x,e=this.$y;return Math.sqrt(t*t+e*e)}multiply(t){const e=this.$x,i=this.$y;return this.$x=e*t.x,this.$y=i*t.y,this}negate(){const t=this.$x,e=this.$y;return this.$x=-t,this.$y=-e,this}normalize(){const t=this.$x,e=this.$y;let i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i)),this.$x=t*i,this.$y=e*i,this}rotate(t){const e=this.$x,i=this.$y,s=t*ae,n=Math.cos(s),r=Math.sin(s);return this.$x=e*n-i*r,this.$y=e*r+i*n,this}scale(t){const e=this.$x,i=this.$y;return this.$x=e*t,this.$y=i*t,this}subtract(t){const e=this.$x,i=this.$y;return this.$x=e-t.x,this.$y=i-t.y,this}}class qe{$x;$y;$z;get x(){return this.$x}get y(){return this.$y}get z(){return this.$z}constructor(t,e,i){this.$x=t,this.$y=e,this.$z=i}static from(t){return t.clone()}add(t){const e=this.$x,i=this.$y,s=this.$z;return this.$x=e+t.x,this.$y=i+t.y,this.$z=s+t.z,this}clone(){const t=this.$x,e=this.$y,i=this.$z;return new qe(t,e,i)}equal(t){return this.$x===t.x&&this.$y===t.y&&this.$z===t.z}length(){const t=this.$x,e=this.$y,i=this.$z;return Math.sqrt(t*t+e*e+i*i)}multiply(t){const e=this.$x,i=this.$y,s=this.$z;return this.$x=e*t.x,this.$y=i*t.y,this.$z=s*t.z,this}negate(){const t=this.$x,e=this.$y,i=this.$z;return this.$x=-t,this.$y=-e,this.$z=-i,this}normalize(){const t=this.$x,e=this.$y,i=this.$z;let s=t*t+e*e+i*i;return s>0&&(s=1/Math.sqrt(s)),this.$x=t*s,this.$y=e*s,this.$z=i*s,this}rotate(t){const e=this.$x,i=this.$y,s=this.$z,n=t.x,r=t.y,a=t.z;let o=r*s-a*i,h=a*e-n*s,c=n*i-r*e,d=r*c-a*h,$=a*o-n*c,u=n*h-r*o;const m=2*t.w;return o*=m,h*=m,c*=m,d*=2,$*=2,u*=2,this.$x=e+o+d,this.$y=i+h+$,this.$z=s+c+u,this}scale(t){const e=this.$x,i=this.$y,s=this.$z;return this.$x=e*t,this.$y=i*t,this.$z=s*t,this}subtract(t){const e=this.$x,i=this.$y,s=this.$z;return this.$x=e-t.x,this.$y=i-t.y,this.$z=s-t.z,this}}class Ye{$duration;$intensityFrequencyHigh;$intensityFrequencyLow;get duration(){return this.$duration}get intensityFrequencyHigh(){return this.$intensityFrequencyHigh}get intensityFrequencyLow(){return this.$intensityFrequencyLow}constructor({$duration:t,$intensityFrequencyHigh:e,$intensityFrequencyLow:i}){this.$duration=t,this.$intensityFrequencyHigh=e,this.$intensityFrequencyLow=i}}class We extends Event{$code;$vibration;get code(){return this.$code}get vibration(){return this.$vibration}constructor(t,e,i){super(t),this.$code=e,this.$vibration=i}}class He extends Event{$code;$value;get code(){return this.$code}get value(){return this.$value}constructor(t,e,i){super(t),this.$code=e,this.$value=i}}class je extends Event{$code;get code(){return this.$code}constructor(t,e){super(t),this.$code=e}}class Ze extends Event{$code;$value;get code(){return this.$code}get value(){return this.$value}constructor(t,e,i){super(t),this.$code=e,this.$value=i}}class Ke extends Event{$code;get code(){return this.$code}constructor(t,e){super(t),this.$code=e}}class Je extends Event{$code;$value;get code(){return this.$code}get value(){return this.$value}constructor(t,e,i){super(t),this.$code=e,this.$value=i}}class ti extends Event{$code;get code(){return this.$code}constructor(t,e){super(t),this.$code=e}}class ei extends Event{$code;$value;get code(){return this.$code}get value(){return this.$value}constructor(t,e,i){super(t),this.$code=e,this.$value=i}}class ii extends Event{$code;get code(){return this.$code}constructor(t,e){super(t),this.$code=e}}const si=[[V,N],[G,X],[Q,q],[Y,W]],ni=[E,T,A,z,k,R,C,L,I,_,B,P,U,F,M,D,O];class ri{static $activated=!1;$indexLastConnected;$stateGamepad;$unloaded;constructor(){this.$stateGamepad={},this.$unloaded=!1,[...ni,...si.flat()].forEach(t=>{this.$stateGamepad[t]=!1}),window.addEventListener(Zt,this.$onBeforeUnload.bind(this)),window.addEventListener(ee,this.$onConnect.bind(this)),window.addEventListener(ie,this.$onDisconnect.bind(this)),window.addEventListener(Nt,this.$onVibrate.bind(this)),window.requestAnimationFrame(this.$update.bind(this))}static activate(){!0!==ri.$activated&&(new ri,ri.$activated=!0)}$onBeforeUnload(){this.$unloaded=!0;const t=navigator.getGamepads()[this.$indexLastConnected];void 0!==t&&void 0!==t.vibrationActuator&&t.vibrationActuator.reset()}$onConnect(t){"standard"===t.gamepad.mapping&&(Object.entries(this.$stateGamepad).forEach(([t,e])=>{!0===e&&(this.$stateGamepad[t]=!1,window.dispatchEvent(new je(Vt,t)))}),this.$indexLastConnected=t.gamepad.index,window.dispatchEvent(new je(Dt,H)))}$onDisconnect(t){t.gamepad.index===this.$indexLastConnected&&(Object.entries(this.$stateGamepad).forEach(([t,e])=>{!0===e&&(this.$stateGamepad[t]=!1,window.dispatchEvent(new je(Vt,t)))}),this.$indexLastConnected=void 0,window.dispatchEvent(new je(Dt,j)))}$onVibrate(t){if(!0===this.$unloaded)return;const e=navigator.getGamepads()[this.$indexLastConnected];void 0!==e&&void 0!==e.vibrationActuator&&(t instanceof je&&t.code===Z?e.vibrationActuator.reset():t instanceof We&&t.code===K&&e.vibrationActuator.playEffect("dual-rumble",{duration:t.vibration.duration,startDelay:0,strongMagnitude:t.vibration.intensityFrequencyLow,weakMagnitude:t.vibration.intensityFrequencyHigh}))}$update(){const t=navigator.getGamepads()[this.$indexLastConnected];t instanceof Gamepad&&(ni.forEach((e,i)=>{const s=t.buttons[i];!0===s.pressed?(!1===this.$stateGamepad[e]&&(this.$stateGamepad[e]=!0),window.dispatchEvent(new je(Ot,e)),window.dispatchEvent(new He(Mt,e,s.value))):!0===this.$stateGamepad[e]&&(this.$stateGamepad[e]=!1,window.dispatchEvent(new je(Vt,e)))}),t.axes.forEach((t,e)=>{const[i,s]=si[e];t<=-.5?(!0===this.$stateGamepad[s]&&(this.$stateGamepad[s]=!1,window.dispatchEvent(new je(Vt,s))),this.$stateGamepad[i]=!0,window.dispatchEvent(new je(Ot,i)),window.dispatchEvent(new He(Mt,i,(t-.5*Math.sign(t))/.5))):t>=.5?(!0===this.$stateGamepad[i]&&(this.$stateGamepad[i]=!1,window.dispatchEvent(new je(Vt,i))),this.$stateGamepad[s]=!0,window.dispatchEvent(new je(Ot,s)),window.dispatchEvent(new He(Mt,s,(t-.5*Math.sign(t))/.5))):(!0===this.$stateGamepad[i]&&(this.$stateGamepad[i]=!1,window.dispatchEvent(new je(Vt,i))),!0===this.$stateGamepad[s]&&(this.$stateGamepad[s]=!1,window.dispatchEvent(new je(Vt,s))))})),window.requestAnimationFrame(this.$update.bind(this))}}class ai extends Ue{constructor(){super()}onTick({$stage:t,$timetick:e}){t.actors.forEach(t=>{t.onTick(e)})}}class oi extends Ue{static DELAY_CONTEXT_CLEAR_SAFE=1e3;$cache;$context;$mappingSoundsPlaying;constructor(){super()}$createValuesCurveFadeOut(t){return[1*t-1,0*t-1]}$loadAudio(t){return new Promise(e=>{t.arrayBuffer().then(t=>this.$context.decodeAudioData(t)).then(i=>{this.$cache.set(t.url,i),e(i)})})}$prepareAudio(t){!0!==this.$cache.has(t)&&(this.$cache.set(t,void 0),fetch(t).then(t=>this.$loadAudio(t)))}$terminateSound(t){const{$audio:e,$gain:i,$startTime:s}=this.$mappingSoundsPlaying.get(t);!1===t.loop&&this.$context.currentTime>s+Math.max(0,e.buffer.duration-t.durationFadeOut/1e3)||(i.gain.cancelScheduledValues(this.$context.currentTime),i.gain.setValueCurveAtTime(this.$createValuesCurveFadeOut(t.volume),this.$context.currentTime,Math.min(e.buffer.duration,t.durationFadeOut/1e3)),this.$mappingSoundsPlaying.delete(t),e.onended=()=>{e.disconnect(),i.disconnect()})}hasAssetLoaded(t){return!1===this.$initiated&&this.initiate(),!0===this.$cache.has(t)}loadAudio(t){return!1===this.$initiated&&this.initiate(),!0===this.$cache.has(t.url)?new Promise(e=>{e(this.$cache.get(t.url))}):(this.$cache.set(t.url,void 0),this.$loadAudio(t))}onInitiate(){this.$cache=new Map,this.$context=new AudioContext,this.$mappingSoundsPlaying=new Map}onTerminate(){let t=0;return Array.from(this.$mappingSoundsPlaying.keys()).forEach(e=>{e.durationFadeOut>t&&(t=e.durationFadeOut),this.$terminateSound(e)}),new Promise(e=>{window.setTimeout(()=>{this.$context.close().then(()=>{this.$context=void 0,e()})},t+oi.DELAY_CONTEXT_CLEAR_SAFE)})}onTick({$stage:t,$timetick:e}){const i=Array.from(this.$mappingSoundsPlaying.keys());t.actors.forEach(t=>{t.sounds.forEach(e=>{if(!0===this.$mappingSoundsPlaying.has(e))return void Oe(e,i);if(this.$prepareAudio(e.audio),void 0===this.$cache.get(e.audio))return;const s=this.$cache.get(e.audio),n=this.$context.createBufferSource();n.buffer=s,n.connect(this.$context.destination),n.start(0);const r=this.$context.createGain();r.gain.value=e.volume-1,r.connect(this.$context.destination),n.connect(r),this.$mappingSoundsPlaying.set(e,{$audio:n,$gain:r,$startTime:this.$context.currentTime}),!0!==e.loop?(r.gain.setValueCurveAtTime(this.$createValuesCurveFadeOut(e.volume),this.$context.currentTime+Math.max(0,n.buffer.duration-e.durationFadeOut/1e3),Math.min(n.buffer.duration,e.durationFadeOut/1e3)),n.onended=()=>{n.disconnect(),r.disconnect(),this.$mappingSoundsPlaying.delete(e),t.removeSound(e),t.onSoundFinish(e)}):n.loop=!0})}),i.forEach(t=>{this.$terminateSound(t)})}}class hi extends Ue{$current;$previous;constructor(){super()}$hasCollisionPrevious(t,e){return void 0!==this.$previous.find(([i,s])=>t===i&&e===s)}onInitiate(){this.$current=[],this.$previous=[]}onTick({$stage:t,$timetick:e}){const i=[],s=[],n=[],r=[];t.actors.forEach(t=>{if(!1!==t.hasCollider())switch(t.collider.type){case y:s.push(t);break;case b:n.push(t);break;case S:r.push(t)}});const a=[...r,...n];0!==a.length&&(s.forEach(t=>{const e=t.collider.boundaries.clone().translate(t.translation),s=new Te(e.center,e.center);a.forEach(e=>{const n=e.collider.boundaries.clone().translate(e.translation),r=Te.distanceManhattan(s,n);i.push({$distance:r,$dynamic:t,$inert:e})})}),i.sort((t,e)=>t.$distance-e.$distance),i.forEach(e=>{const{$dynamic:i,$inert:s}=e;if(!1===t.hasActor(i))return;if(!1===t.hasActor(s))return;const n=i.collider.boundaries.clone().translate(i.translation),r=s.collider.boundaries.clone().translate(s.translation),a=Te.overlapX(n,r);if(a<=0)return;const o=Te.overlapY(n,r);if(o<=0)return;this.$current.push([i,s]);const h=Math.sign(s.translation.x-i.translation.x),c=Math.sign(s.translation.y-i.translation.y),d=a<=o,$=o<=a;if(!1===i.collider.traversable&&!1===s.collider.traversable){const t=new Qe(d?-h*a:0,$?-c*o:0);i.translate(t)}const u=!0===d&&1===h,m=!0===$&&1===c,l=!0===$&&-1===c,p=!0===d&&-1===h;!1===this.$hasCollisionPrevious(i,s)&&(i.onCollideEnter({$actor:s,$east:u,$north:m,$south:l,$west:p}),s.onCollideEnter({$actor:i,$east:p,$north:l,$south:m,$west:u})),i.onCollide({$actor:s,$east:u,$north:m,$south:l,$west:p}),s.onCollide({$actor:i,$east:p,$north:l,$south:m,$west:u})}),this.$previous.filter(([t,e])=>void 0===this.$current.find(([i,s])=>i===t&&s===e)),this.$previous.forEach(([t,e])=>{t.onCollideLeave(e),e.onCollideLeave(t)}),this.$previous=[...this.$current],this.$current=[])}}class ci extends Ue{$container;$events;$inputs;$inputsAnalog;constructor({$container:t}){super(),this.$container=t}$stack(t){t.preventDefault(),this.$events.push(t)}getInput(t){const e=this.$inputs[t];return void 0!==e&&e}getInputAnalog(t){const e=this.$inputsAnalog[t];return void 0===e?0:e}onInitiate(){this.$events=[],this.$inputs={},this.$inputsAnalog={},window.addEventListener(Kt,this.$stack.bind(this)),window.addEventListener(te,this.$stack.bind(this)),window.addEventListener(Mt,this.$stack.bind(this)),window.addEventListener(Dt,this.$stack.bind(this)),window.addEventListener(Ot,this.$stack.bind(this)),window.addEventListener(Vt,this.$stack.bind(this)),window.addEventListener(Gt,this.$stack.bind(this)),window.addEventListener(Xt,this.$stack.bind(this)),window.addEventListener(Qt,this.$stack.bind(this)),window.addEventListener(qt,this.$stack.bind(this)),window.addEventListener(Yt,this.$stack.bind(this)),window.addEventListener(Wt,this.$stack.bind(this)),window.addEventListener(se,this.$stack.bind(this)),window.addEventListener(ne,this.$stack.bind(this)),window.addEventListener(re,this.$stack.bind(this)),this.$container.addEventListener(Ht,this.$stack.bind(this)),this.$container.addEventListener(jt,this.$stack.bind(this))}onTerminate(){window.removeEventListener(Kt,this.$stack.bind(this)),window.removeEventListener(te,this.$stack.bind(this)),window.removeEventListener(Mt,this.$stack.bind(this)),window.removeEventListener(Dt,this.$stack.bind(this)),window.removeEventListener(Ot,this.$stack.bind(this)),window.removeEventListener(Vt,this.$stack.bind(this)),window.removeEventListener(Gt,this.$stack.bind(this)),window.removeEventListener(Xt,this.$stack.bind(this)),window.removeEventListener(Qt,this.$stack.bind(this)),window.removeEventListener(qt,this.$stack.bind(this)),window.removeEventListener(Yt,this.$stack.bind(this)),window.removeEventListener(Wt,this.$stack.bind(this)),window.removeEventListener(se,this.$stack.bind(this)),window.removeEventListener(ne,this.$stack.bind(this)),window.removeEventListener(re,this.$stack.bind(this)),this.$container.removeEventListener(Ht,this.$stack.bind(this)),this.$container.removeEventListener(jt,this.$stack.bind(this))}onTick({$stage:t,$timetick:e}){for(void 0!==this.$inputs[H]&&delete this.$inputs[H],void 0!==this.$inputs[j]&&delete this.$inputs[j];this.$events.length>0;){const t=this.$events.shift();t.type===Kt?(this.$inputs={},this.$inputsAnalog={}):t instanceof He&&t.type===Mt?this.$inputsAnalog[t.code]=t.value:t instanceof je&&t.type===Dt?this.$inputs[t.code]=!0:t instanceof je&&t.type===Ot?void 0===this.$inputs[t.code]&&(this.$inputs[t.code]=!0):t instanceof je&&t.type===Vt?void 0!==this.$inputs[t.code]&&delete this.$inputs[t.code]:t instanceof Ze&&t.type===Gt?this.$inputsAnalog[t.code]=t.value:t instanceof Ke&&t.type===Xt?void 0===this.$inputs[t.code]&&(this.$inputs[t.code]=!0):t instanceof Ke&&t.type===Qt?void 0!==this.$inputs[t.code]&&delete this.$inputs[t.code]:t instanceof Je&&t.type===qt?this.$inputsAnalog[t.code]=t.value:t instanceof ti&&t.type===Yt?void 0===this.$inputs[t.code]&&(this.$inputs[t.code]=!0):t instanceof ti&&t.type===Wt?void 0!==this.$inputs[t.code]&&delete this.$inputs[t.code]:t instanceof KeyboardEvent&&t.type===Ht?void 0===this.$inputs[t.code]&&(this.$inputs[t.code]=!0):t instanceof KeyboardEvent&&t.type===jt?void 0!==this.$inputs[t.code]&&delete this.$inputs[t.code]:t instanceof ei&&t.type===se?this.$inputsAnalog[t.code]=t.value:t instanceof ii&&t.type===ne?void 0===this.$inputs[t.code]&&(this.$inputs[t.code]=!0):t instanceof ii&&t.type===re&&void 0!==this.$inputs[t.code]&&delete this.$inputs[t.code]}}}class di extends Ue{static UNIT_TEXTURE_0=0;static UNIT_TEXTURE_1=1;$bufferPosition;$cache;$canvas;$color;$container;$context;$indices;$locationsAttribute;$locationsUniform;$mappingBuffersUv;$program;$resizeOberver;$resolution;$shaderFragment;$shaderVertex;$textureDefault;constructor({$color:t=new qe(0,0,0),$container:e,$resolution:i}){super(),this.$color=t,this.$container=e,this.$resolution=i}$createBufferPositions(){const t=this.$context.createBuffer();this.$context.bindBuffer(this.$context.ARRAY_BUFFER,t),this.$context.bufferData(this.$context.ARRAY_BUFFER,new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),this.$context.STATIC_DRAW),this.$bufferPosition=t}$createBufferUvsOnce(t){if(void 0!==this.$mappingBuffersUv[t.frameSourceSerialized])return;const e=t.frameSource,i=[e.minimum.x,e.maximum.y,e.minimum.x,e.minimum.y,e.maximum.x,e.minimum.y,e.maximum.x,e.maximum.y],s=this.$context.createBuffer();this.$context.bindBuffer(this.$context.ARRAY_BUFFER,s),this.$context.bufferData(this.$context.ARRAY_BUFFER,new Float32Array(i),this.$context.STATIC_DRAW),this.$mappingBuffersUv[t.frameSourceSerialized]=s}$createIndices(){const t=[0,1,2,3],e=this.$context.createBuffer();this.$context.bindBuffer(this.$context.ELEMENT_ARRAY_BUFFER,e),this.$context.bufferData(this.$context.ELEMENT_ARRAY_BUFFER,new Uint32Array(t),this.$context.STATIC_DRAW),this.$indices=t.length}$createLocationsAttribute(t,e){Object.keys(e.attributes).forEach(e=>{this.$locationsAttribute[e]=this.$context.getAttribLocation(t,e)})}$createLocationsUniform(t,e){Object.keys(e.uniforms).forEach(e=>{this.$locationsUniform[e]=this.$context.getUniformLocation(t,e)})}$createProgram(t){this.$shaderVertex=this.$context.createShader(this.$context.VERTEX_SHADER),this.$context.shaderSource(this.$shaderVertex,t.sourceVertex),this.$context.compileShader(this.$shaderVertex),this.$shaderFragment=this.$context.createShader(this.$context.FRAGMENT_SHADER),this.$context.shaderSource(this.$shaderFragment,t.sourceFragment),this.$context.compileShader(this.$shaderFragment),this.$program=this.$context.createProgram(),this.$context.attachShader(this.$program,this.$shaderVertex),this.$context.attachShader(this.$program,this.$shaderFragment),this.$context.linkProgram(this.$program)}$createTexture(t,e){const i=this.$context.createTexture();return this.$context.activeTexture(e),this.$context.bindTexture(this.$context.TEXTURE_2D,i),this.$context.texParameteri(this.$context.TEXTURE_2D,this.$context.TEXTURE_MIN_FILTER,this.$context.NEAREST),this.$context.texParameteri(this.$context.TEXTURE_2D,this.$context.TEXTURE_MAG_FILTER,this.$context.NEAREST),this.$context.texParameteri(this.$context.TEXTURE_2D,this.$context.TEXTURE_WRAP_S,this.$context.CLAMP_TO_EDGE),this.$context.texParameteri(this.$context.TEXTURE_2D,this.$context.TEXTURE_WRAP_T,this.$context.CLAMP_TO_EDGE),this.$context.texImage2D(this.$context.TEXTURE_2D,0,this.$context.RGBA,this.$context.RGBA,this.$context.UNSIGNED_BYTE,t),i}$createTextureDefault(t,e){const i=this.$context.createTexture();return this.$context.activeTexture(this.$context.TEXTURE0+e),this.$context.bindTexture(this.$context.TEXTURE_2D,i),this.$context.texImage2D(this.$context.TEXTURE_2D,0,this.$context.RGBA,1,1,0,this.$context.RGBA,this.$context.UNSIGNED_BYTE,new Uint8Array([t.x,t.y,t.z,255])),i}$initiateCanvas(){this.$canvas=document.createElement("canvas"),this.$canvas.style.setProperty("width","100%"),this.$canvas.style.setProperty("height","100%"),this.$canvas.style.setProperty("display","block"),this.$canvas.style.setProperty("outline","0"),this.$canvas.style.setProperty("image-rendering","pixelated"),this.$container.appendChild(this.$canvas),this.$resize(),window.addEventListener(Jt,this.$setFocus.bind(this))}$initiateContext(){this.$context=this.$canvas.getContext("webgl2",{antialias:!1}),this.$context.frontFace(this.$context.CW),this.$context.enable(this.$context.CULL_FACE),this.$context.cullFace(this.$context.BACK),this.$context.enable(this.$context.BLEND),this.$context.blendFunc(this.$context.SRC_ALPHA,this.$context.ONE_MINUS_SRC_ALPHA),this.$createProgram(_e),this.$context.useProgram(this.$program),this.$createLocationsUniform(this.$program,_e),this.$createLocationsAttribute(this.$program,_e),this.$createBufferPositions(),this.$createIndices(),this.$textureDefault=this.$createTextureDefault(new qe(127,127,127),di.UNIT_TEXTURE_1),window.addEventListener(Zt,this.$loseContext.bind(this))}$loadTexture(t,e){return new Promise(i=>{t.blob().then(t=>createImageBitmap(t)).then(s=>{const n=this.$createTexture(s,e);this.$cache.set(t.url,n),i(n)})})}$loseContext(){this.$context instanceof WebGL2RenderingContext!=0&&null!==this.$context.getExtension("WEBGL_lose_context")&&this.$context.getExtension("WEBGL_lose_context").loseContext()}$prepareTexture(t,e){!0!==this.$cache.has(t)&&(this.$cache.set(t,void 0),fetch(t).then(t=>this.$loadTexture(t,e)))}$resetCanvas(t,e){this.$context.clearColor(this.$color.x,this.$color.y,this.$color.z,1),this.$context.clearDepth(1),this.$context.viewport(0,0,t,e),this.$context.clear(this.$context.COLOR_BUFFER_BIT|this.$context.DEPTH_BUFFER_BIT)}$resize(){const t=this.$resolution.x,e=this.$resolution.y,i=Math.max(t,Math.floor(e*this.$canvas.clientWidth/this.$canvas.clientHeight)),s=Math.max(e,Math.floor(t*this.$canvas.clientHeight/this.$canvas.clientWidth));this.$canvas.setAttribute("width",""+2*Math.floor(i/2)),this.$canvas.setAttribute("height",""+2*Math.floor(s/2))}$sendAttribute(t,e,i){if(void 0!==t.attributes[e])switch(t.attributes[e]){case ve:{this.$context.bindBuffer(this.$context.ARRAY_BUFFER,i);const t=this.$locationsAttribute[e];this.$context.vertexAttribPointer(t,2,this.$context.FLOAT,!1,0,0),this.$context.enableVertexAttribArray(t);break}case ye:{this.$context.bindBuffer(this.$context.ARRAY_BUFFER,i);const t=this.$locationsAttribute[e];this.$context.vertexAttribPointer(t,3,this.$context.FLOAT,!1,0,0),this.$context.enableVertexAttribArray(t);break}}}$sendUniform(t,e,i){if(void 0!==t.uniforms[e])switch(t.uniforms[e]){case pe:case xe:case ge:this.$context.uniform1i(this.$locationsUniform[e],i);break;case ce:case $e:this.$context.uniform1iv(this.$locationsUniform[e],i);break;case fe:this.$context.uniform1f(this.$locationsUniform[e],i);break;case de:this.$context.uniform1fv(this.$locationsUniform[e],i);break;case we:case ue:this.$context.uniformMatrix4fv(this.$locationsUniform[e],!1,i);break;case ve:case me:this.$context.uniform2fv(this.$locationsUniform[e],i);break;case ye:case le:this.$context.uniform3fv(this.$locationsUniform[e],i)}}$setFocus(){this.$canvas.setAttribute("tabindex","0"),this.$canvas.focus()}$terminateCanvas(){window.removeEventListener(Jt,this.$setFocus.bind(this)),this.$container.removeChild(this.$canvas)}$terminateContext(){window.removeEventListener(Zt,this.$loseContext.bind(this)),this.$context.deleteBuffer(this.$bufferPosition),Object.values(this.$mappingBuffersUv).forEach(t=>{this.$context.deleteBuffer(t)}),this.$context.deleteTexture(this.$textureDefault),this.$cache.forEach(t=>{this.$context.deleteTexture(t)}),this.$context.deleteShader(this.$shaderFragment),this.$context.deleteShader(this.$shaderVertex),this.$context.deleteProgram(this.$program),this.$context=void 0}getTranslationFromScreen(t,e){const i=this.$resolution.x,s=this.$resolution.y,n=Math.max(i,Math.floor(s*this.$canvas.clientWidth/this.$canvas.clientHeight)),r=Math.max(s,Math.floor(i*this.$canvas.clientHeight/this.$canvas.clientWidth));return new Qe(Math.floor(e.x*n/2+t.pointOfView.translation.x),-Math.floor(e.y*r/2-t.pointOfView.translation.y))}hasAssetLoaded(t){return!1===this.$initiated&&this.initiate(),!0===this.$cache.has(t)}loadTexture(t){return!1===this.$initiated&&this.initiate(),!0===this.$cache.has(t.url)?new Promise(e=>{e(this.$cache.get(t.url))}):(this.$cache.set(t.url,void 0),this.$loadTexture(t,this.$context.TEXTURE0+di.UNIT_TEXTURE_0))}onInitiate(){this.$cache=new Map,this.$indices=0,this.$locationsAttribute={},this.$locationsUniform={},this.$mappingBuffersUv={},this.$initiateCanvas(),this.$initiateContext(),this.$resizeOberver=new ResizeObserver(this.$resize.bind(this)),this.$resizeOberver.observe(this.$container)}onTerminate(){this.$resizeOberver.disconnect(),this.$terminateContext(),this.$terminateCanvas()}onTick({$stage:t,$timetick:e}){this.$resetCanvas(this.$canvas.width,this.$canvas.height),this.$sendUniform(_e,"uniformAspect",[this.$canvas.width,this.$canvas.height]),this.$sendUniform(_e,"uniformTranslationPointOfView",[Math.floor(t.pointOfView.translation.x),Math.floor(t.pointOfView.translation.y)]),this.$sendAttribute(_e,"attributePosition",this.$bufferPosition);const i=Te.fromSize(new Qe(this.$canvas.width,this.$canvas.height)).translate(t.pointOfView.translation),s=t.actors.filter(t=>{if(!1===t.hasSprite())return!1;if(!1===t.visible)return!1;const e=Te.fromSize(t.sprite.sizeTarget).translate(t.translation);return!(Te.overlapX(i,e)<=0)&&!(Te.overlapY(i,e)<=0)});s.sort((t,e)=>t.zIndex-e.zIndex),s.forEach(t=>{let e=this.$textureDefault;this.$prepareTexture(t.sprite.texture,this.$context.TEXTURE0+di.UNIT_TEXTURE_1),void 0!==this.$cache.get(t.sprite.texture)&&(e=this.$cache.get(t.sprite.texture)),this.$context.activeTexture(this.$context.TEXTURE0+di.UNIT_TEXTURE_1),this.$context.bindTexture(this.$context.TEXTURE_2D,e),this.$sendUniform(_e,"uniformTexture",di.UNIT_TEXTURE_1),this.$sendUniform(_e,"uniformSize",[t.sprite.sizeTarget.x,t.sprite.sizeTarget.y]),this.$sendUniform(_e,"uniformTranslation",[Math.floor(t.translation.x),Math.floor(t.translation.y)]),this.$createBufferUvsOnce(t.sprite),this.$sendAttribute(_e,"attributeUvmapping",this.$mappingBuffersUv[t.sprite.frameSourceSerialized]),this.$context.drawElements(this.$context.TRIANGLE_FAN,this.$indices,this.$context.UNSIGNED_INT,0)})}removePointerNative(){!1===this.$initiated&&this.initiate(),this.$canvas.style.setProperty("cursor","none")}setColor(t){this.$color=t}setResolution(t){this.$resolution=t.clone(),this.$resize()}}class $i extends Ue{static DELAY_VIBRATION_END=1e3;$mappingVibrationsPlaying;constructor(){super()}onInitiate(){this.$mappingVibrationsPlaying=new Map}onTerminate(){window.dispatchEvent(new je(Nt,Z))}onTick({$stage:t,$timetick:e}){const i=Array.from(this.$mappingVibrationsPlaying.keys());t.actors.forEach(t=>{const s=[];t.vibrations.forEach(t=>{if(!1===this.$mappingVibrationsPlaying.has(t))return void this.$mappingVibrationsPlaying.set(t,0);const n=this.$mappingVibrationsPlaying.get(t)+e;n>=t.duration?s.push(t):(this.$mappingVibrationsPlaying.set(t,n),Oe(t,i))}),s.forEach(e=>{t.removeVibration(e)})}),i.forEach(t=>{this.$mappingVibrationsPlaying.delete(t)});const s=Array.from(this.$mappingVibrationsPlaying.keys());let n=0,r=0;s.forEach(t=>{n=Math.max(n,t.intensityFrequencyHigh),r=Math.max(r,t.intensityFrequencyLow)}),window.dispatchEvent(new We(Nt,K,new Ye({$duration:$i.DELAY_VIBRATION_END,$intensityFrequencyHigh:n,$intensityFrequencyLow:r})))}}}},r={};function a(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,a),i.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},a.a=(n,r,a)=>{var o;a&&((o=[]).d=-1);var h,c,d,$=new Set,u=n.exports,m=new Promise((t,e)=>{d=e,c=t});m[e]=u,m[t]=t=>(o&&t(o),$.forEach(t),m.catch(t=>{})),n.exports=m,r(n=>{var r;h=(n=>n.map(n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var r=[];r.d=0,n.then(t=>{a[e]=t,s(r)},t=>{a[i]=t,s(r)});var a={};return a[t]=t=>t(r),a}}var o={};return o[t]=t=>{},o[e]=n,o}))(n);var a=()=>h.map(t=>{if(t[i])throw t[i];return t[e]}),c=new Promise(e=>{(r=()=>e(a)).r=0;var i=t=>t!==o&&!$.has(t)&&($.add(t),t&&!t.d&&(r.r++,t.push(r)));h.map(e=>e[t](i))});return r.r?c:a()},t=>(t?d(m[i]=t):c(u),s(o))),o&&o.d<0&&(o.d=0)},a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),a(864)})();
//# sourceMappingURL=bundle.js.map